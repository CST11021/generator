<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE generatorConfiguration
        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">
<generatorConfiguration>
    <context id="whz定制" targetRuntime="MyBatis3Whz">
        <!-- 指定offset字段 -->
        <property name="offsetFieldName" value="offset"/>
        <!-- 指定limit字段 -->
        <property name="limitFieldName" value="limit"/>
        <!-- 是否生成offset和limit分页查SQL -->
        <property name="enableGeneralOffsetLimit" value="false"/>
        <!-- 指定排序字段 -->
        <property name="orderByFieldName" value="orderBy"/>
        <!-- 是否生成排序SQL -->
        <property name="enableGeneralOrderBy" value="false"/>
        <!-- 标记逻辑删除标识的字段 -->
        <property name="deleteColumnName" value="is_deleted"/>
        <!-- 标记逻辑删除标识的值 -->
        <property name="deletedValue" value="1"/>
        <!-- 标记逻辑删除标识的值 -->
        <property name="undeleteValue" value="0"/>
        <!-- 指定创建时间字段：mybatis插入SQL，指定该字段更新为now() -->
        <property name="gmtCreateColumn" value="r_add_time"/>
        <!-- 指定最后修改时间字段：mybatis更新SQL，指定该字段更新为now() -->
        <property name="gmtModifiedColumn" value="r_modified_time"/>
        <!-- DO和QC使用Lombok注解 -->
        <property name="useLombok" value="true"/>
        <!-- DO是否生成serialVersionUID -->
        <property name="generalSerializable" value="true"/>

        <!--<plugin type="org.mybatis.generator.plugins.WhzSerializablePlugin"/>-->
        <plugin type="com.whz.mybatis.generator.plugin.WhzRenameModelRecordPlugin">
            <!-- 将ZlbBaida替换为空串 -->
            <property name="replaceString" value="ZlbBaida>"/>
            <!-- 添加前缀 -->
            <property name="prefixName" value="Zlb"/>
            <!-- 添加DO后缀 -->
            <property name="postfixName" value="DO"/>
        </plugin>
        <plugin type="com.whz.mybatis.generator.plugin.WhzRenameQueryRecordPlugin">
            <!-- 查询对象：将ZlbBaida替换为空串, QC替换为QO -->
            <property name="replaceString" value="ZlbBaida>,QC>QO"/>
            <!-- 添加前缀 -->
            <property name="prefixName" value="Zlb"/>
        </plugin>
        <plugin type="com.whz.mybatis.generator.plugin.WhzRenameJavaMapperPlugin">
            <!-- mapper接口：将ZlbBaida替换为空串, Mapper替换为Dao -->
            <property name="replaceString" value="ZlbBaida>,Mapper>Dao"/>
            <!-- 添加前缀 -->
            <property name="prefixName" value="Zlb"/>
        </plugin>
        <plugin type="com.whz.mybatis.generator.plugin.WhzRenameSqlMapperPlugin">
            <!-- xml文件：将ZlbBaida替换为空串, Mapper替换为Dao -->
            <property name="replaceString" value="ZlbBaida>,Mapper>Dao"/>
            <!-- 添加前缀 -->
            <property name="prefixName" value="Zlb"/>
        </plugin>

        <commentGenerator type="com.whz.mybatis.generator.internal.WhzCommentGenerator">
            <property name="suppressDate" value="false"/>
            <property name="suppressAllComments" value="false"/>
        </commentGenerator>

        <!--数据库链接URL，用户名、密码 -->
        <jdbcConnection driverClass="com.mysql.jdbc.Driver"
                        connectionURL="jdbc:mysql://10.100.185.238:3306/db_sop?useUnicode=true&amp;characterEncoding=UTF8&amp;allowMultiQueries=true&amp;useSSL=false" userId="zlb_dev_user"
                        password="OsDFdjhByD4">
        </jdbcConnection>

        <!--
            参考连接：https://zxbcw.cn/post/200401/
            现象描述：数据库表字段类型为：tinyint 长度为1，即 类型为：tinyint(1)，查询时，该字段对应的的java类型为boolean
            问题描述：如何将该字段的java类型设置为Integer?
            解决方案：
                1.在jdbcUrl添加参数：tinyInt1isBit=false（默认为true）；
                2.避免使用长度为1的tinyint类型字段存储数字格式的数据；
         -->
        <javaTypeResolver type="com.whz.mybatis.generator.config.WhzJavaTypeResolverImpl"/>

        <!-- 生成模型的包名和位置 -->
        <javaModelGenerator targetPackage="whz" targetProject="src/test/java">
            <!-- 指定JavaModel继承的父类 -->
            <property name="rootClass" value="cn.gov.zcy.paas.dto.page.PagePO"/>
        </javaModelGenerator>

        <javaQueryModelGenerator targetPackage="whz.abc" targetProject="src/test/java">
            <!-- 指定QueryModel继承的父类 -->
            <property name="rootClass" value="cn.gov.zcy.paas.dto.page.PagePO"/>
        </javaQueryModelGenerator>

        <!-- 生成映射文件的包名和位置 -->
        <sqlMapGenerator targetPackage="whz" targetProject="src/test/java">
            <property name="enableSubPackages" value="true"/>
        </sqlMapGenerator>

        <!-- 生成DAO的包名和位置 -->
        <javaClientGenerator targetPackage="whz" targetProject="src/test/java" type="XMLMAPPER" >
            <property name="enableSubPackages" value="true"/>
        </javaClientGenerator>

        <!--<table tableName="zlb_baida_form_template"/>-->
        <table tableName="zlb_baida_form">
            <!-- 指定offset字段 -->
            <property name="offsetFieldName" value="offset"/>
            <!-- 指定limit字段 -->
            <property name="limitFieldName" value="limit"/>
            <!-- 是否生成offset和limit分页查SQL -->
            <property name="enableGeneralOffsetLimit" value="false"/>
            <!-- 指定排序字段 -->
            <property name="orderByFieldName" value="orderBy"/>
            <!-- 是否生成排序SQL -->
            <property name="enableGeneralOrderBy" value="false"/>
            <!-- 标记逻辑删除标识的字段 -->
            <property name="deleteColumnName" value="is_delete"/>
            <!-- 标记逻辑删除标识的值 -->
            <property name="deletedValue" value="1"/>
            <!-- 标记逻辑删除标识的值 -->
            <property name="undeleteValue" value="0"/>
            <!-- 指定创建时间字段：mybatis插入SQL，指定该字段更新为now() -->
            <property name="gmtCreateColumn" value="r_add_time"/>
            <!-- 指定最后修改时间字段：mybatis更新SQL，指定该字段更新为now() -->
            <property name="gmtModifiedColumn" value="r_modified_time"/>
            <!-- 指定要查询的字段 -->
            <property name="queryColumns" value="id, id[],code,code[],is_delete,is_delete[]"/>
            <!-- 配置要忽略的列名，SQL和DO中都不会生成该字段 -->
            <ignoreColumn column="org_budget_code"/>
            <ignoreColumn column="org_budget_name"/>
        </table>

    </context>

</generatorConfiguration>

